%% Enhanced TikZ Styles for Energy Data Visualization
% ============================================================================
% Basic Node Styles
% ============================================================================
\tikzset{
    % Generic box style
    energy-box/.style={
        draw,
        rounded corners=5pt,
        minimum width=3cm,
        minimum height=1.5cm,
        align=center,
        font=\small,
        line width=1pt
    },
    % Data source box
    data-box/.style={
        energy-box,
        fill=renewable!20,
        draw=renewable!50!black
    },
    % Process box
    process-box/.style={
        energy-box,
        fill=blue!20,
        draw=blue!50!black
    },
    % Output box
    output-box/.style={
        energy-box,
        fill=orange!20,
        draw=orange!50!black
    },
    % Alert box
    alert-box/.style={
        energy-box,
        fill=red!20,
        draw=red!50!black,
        line width=1.5pt
    }
}

% ============================================================================
% Energy Source Specific Styles
% ============================================================================
\tikzset{
    % Power plant styles
    coal-plant/.style={
        draw=coalplant,
        fill=coalplant!20,
        circle,
        minimum size=1.5cm,
        align=center,
        font=\footnotesize\bfseries
    },
    gas-plant/.style={
        draw=gasplant,
        fill=gasplant!20,
        circle,
        minimum size=1.5cm,
        align=center,
        font=\footnotesize\bfseries
    },
    nuclear-plant/.style={
        draw=nuclear,
        fill=nuclear!20,
        circle,
        minimum size=1.5cm,
        align=center,
        font=\footnotesize\bfseries
    },
    hydro-plant/.style={
        draw=hydro,
        fill=hydro!20,
        circle,
        minimum size=1.5cm,
        align=center,
        font=\footnotesize\bfseries
    },
    wind-plant/.style={
        draw=wind,
        fill=wind!20,
        circle,
        minimum size=1.5cm,
        align=center,
        font=\footnotesize\bfseries
    },
    solar-plant/.style={
        draw=solar,
        fill=solar!20,
        circle,
        minimum size=1.5cm,
        align=center,
        font=\footnotesize\bfseries
    }
}

% ============================================================================
% Arrow and Connection Styles
% ============================================================================
\tikzset{
    % Basic arrow
    arrow/.style={
        ->,
        thick,
        >=stealth
    },
    % Energy flow arrow
    energy-flow/.style={
        arrow,
        line width=2pt,
        renewable
    },
    % Data flow arrow
    data-flow/.style={
        arrow,
        line width=1.5pt,
        blue!70
    },
    % Weak connection
    weak-flow/.style={
        arrow,
        dashed,
        gray
    },
    % Bidirectional arrow
    bidir-flow/.style={
        <->,
        thick,
        >=stealth
    }
}

% ============================================================================
% Chart and Plot Styles
% ============================================================================
\tikzset{
    % Axis style
    axis-style/.style={
        thick,
        ->,
        >=stealth
    },
    % Grid style
    grid-style/.style={
        gray!30,
        very thin
    },
    % Major grid
    major-grid/.style={
        gray!50,
        thin
    }
}

% ============================================================================
% PGFPlots Styles
% ============================================================================
\pgfplotsset{
    % Standard plot style
    energy plot/.style={
        width=\plotwidth,
        height=\plotheight,
        grid=major,
        grid style={gray!30},
        xlabel style={font=\small},
        ylabel style={font=\small},
        legend style={
            font=\footnotesize,
            fill=white,
            fill opacity=0.8,
            draw=black,
            at={(0.98,0.98)},
            anchor=north east
        },
        tick label style={font=\footnotesize}
    },
    % Bar chart style
    energy bar/.style={
        energy plot,
        ybar,
        bar width=20pt,
        ymin=0,
        enlarge x limits=0.15,
        nodes near coords,
        nodes near coords style={font=\footnotesize}
    },
    % Line chart style
    energy line/.style={
        energy plot,
        smooth,
        mark=*,
        mark size=2pt,
        line width=1.5pt
    },
    % Pie chart settings (for pgf-pie)
    pie style/.style={
        radius=3,
        text=legend,
        sum=100,
        after number=\%
    }
}

% ============================================================================
% Timeline and Process Diagram Styles
% ============================================================================
\tikzset{
    % Timeline node
    timeline-node/.style={
        draw,
        circle,
        minimum size=8mm,
        fill=renewable!30,
        font=\footnotesize
    },
    % Timeline line
    timeline-line/.style={
        thick,
        renewable!70
    },
    % Process step
    process-step/.style={
        draw,
        rounded corners,
        minimum width=2.5cm,
        minimum height=1cm,
        fill=blue!20,
        font=\small,
        align=center
    },
    % Decision diamond
    decision/.style={
        draw,
        diamond,
        aspect=2,
        fill=orange!20,
        font=\small,
        align=center
    }
}

% ============================================================================
% Map and Geographic Styles
% ============================================================================
\tikzset{
    % Country highlight
    country-highlight/.style={
        fill=renewable!30,
        draw=renewable!70,
        line width=1pt
    },
    % Region style
    region-style/.style={
        fill=gray!10,
        draw=gray!50
    },
    % Map legend
    map-legend/.style={
        draw,
        fill=white,
        fill opacity=0.9,
        rounded corners,
        font=\footnotesize
    }
}

% ============================================================================
% Annotation and Label Styles
% ============================================================================
\tikzset{
    % Annotation box
    annotation/.style={
        draw=gray,
        fill=yellow!20,
        rounded corners,
        font=\footnotesize,
        align=left,
        text width=3cm
    },
    % Label style
    label-style/.style={
        font=\small\bfseries,
        fill=white,
        fill opacity=0.8,
        inner sep=2pt,
        rounded corners=2pt
    },
    % Callout
    callout/.style={
        draw,
        fill=white,
        drop shadow,
        rounded corners,
        font=\footnotesize
    }
}

% ============================================================================
% Shadow and Effect Styles
% ============================================================================
\tikzset{
    % Drop shadow
    with shadow/.style={
        drop shadow={
            shadow xshift=2pt,
            shadow yshift=-2pt,
            opacity=0.3
        }
    },
    % Glow effect
    glow/.style={
        preaction={
            draw,
            line width=3pt,
            opacity=0.3,
            #1
        }
    },
    % 3D effect
    3d-box/.style={
        draw,
        fill=gray!20,
        drop shadow,
        rounded corners
    }
}

% ============================================================================
% Comparison and Ranking Styles
% ============================================================================
\tikzset{
    % Ranking medal styles
    gold-medal/.style={
        circle,
        draw=yellow!70!orange,
        fill=yellow!50,
        minimum size=1cm,
        font=\bfseries
    },
    silver-medal/.style={
        circle,
        draw=gray!70,
        fill=gray!30,
        minimum size=1cm,
        font=\bfseries
    },
    bronze-medal/.style={
        circle,
        draw=orange!70!brown,
        fill=orange!40,
        minimum size=1cm,
        font=\bfseries
    }
}

% ============================================================================
% Progress and Gauge Styles
% ============================================================================
\tikzset{
    % Progress bar background
    progress-bg/.style={
        draw=gray!50,
        fill=gray!20,
        rounded corners,
        minimum width=5cm,
        minimum height=0.5cm
    },
    % Progress bar fill
    progress-fill/.style={
        draw=renewable!70,
        fill=renewable!50,
        rounded corners,
        minimum height=0.5cm
    },
    % Gauge arc
    gauge-arc/.style={
        draw,
        line width=5pt,
        line cap=round
    }
}

% ============================================================================
% Icon Container Styles
% ============================================================================
\tikzset{
    % Icon box
    icon-box/.style={
        draw=none,
        fill=#1!20,
        circle,
        minimum size=1.2cm,
        font=\Large
    },
    % Icon with label
    icon-label/.style={
        below=0.2cm,
        font=\footnotesize
    }
}

% ============================================================================
% Matrix and Table Styles
% ============================================================================
\tikzset{
    % Matrix of nodes style
    energy-matrix/.style={
        matrix of nodes,
        row sep=2mm,
        column sep=2mm,
        nodes={
            draw,
            minimum width=2cm,
            minimum height=1cm,
            align=center
        }
    },
    % Header cell
    header-cell/.style={
        fill=renewable!30,
        font=\bfseries
    }
}

% ============================================================================
% Custom Patterns
% ============================================================================
\tikzset{
    % Striped pattern
    striped/.style={
        pattern=north east lines,
        pattern color=#1
    },
    % Dotted pattern  
    dotted-fill/.style={
        pattern=dots,
        pattern color=#1
    }
}